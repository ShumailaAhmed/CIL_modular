import numpy as np
import math


def loc_to_pix_exptown(self, loc):
    u = 6.848364717542121 * loc[1] + 1267.9073339940535
    v = -6.851075806443265 * loc[0] + 2504.8267451634106
    return [int(v), int(u)]

def uv_to_loc(xy):
    u, v = xy
    loc1 = (u-1267.9073339940535)/6.848364717542121
    loc0 = (v-2504.8267451634106) / (-6.851075806443265)
    return [loc0, loc1]

print(uv_to_loc([891, 2827]))

print(loc_to_pix_exptown(None, [-46.8, -54.9]))

list_of_xy=[[2184, 2790, 0], [2184, 2758, 0], [2114, 1639, 0], [2270, 819, 179], [1315, 1914, 90], [902, 1867, -140], [1326, 1928, 90],
            [1246, 3563, 90], [1911, 3668, -45], [269, 2945, 0],[269, 2903, 0],[269, 2870, 0],[269, 2843, 0], [1173, 2993, 179], [1173, 3031, 179]]

list_of_xy = [[847, 558, -90], [786, 555, -90], [618, 889, 135], [691, 1018, 135], [809, 1139, 135], [863, 1180, 135], [1457, 1923, 90], [1674, 1889, 45], [1824, 1733, 20], [1823, 1561, -20], [1745, 1443, -45], [2121, 1491, 0], [2112, 1401, 0], [2113, 1320, 0], [2115, 1249, 0], [937, 1931, 0], [964, 1858, 45], [1014, 1845, 90], [1072, 1863, 120], [484, 2553, 60], [606, 2532, 90], [833, 2944, 20], [866, 2899, 0], [1039, 2753, -90], [982, 2740, -90], [946, 2752, -90], [1178, 3129, 179], [1165, 3175, 179], [1180, 3221, 179], [1850, 3603, -20], [1832, 3535, 0], [1838, 3468, 0], [1868, 3402, 45], [1916, 3364, 60]]

for item in list_of_xy:
    x, y, yaw = item
    loc = uv_to_loc([x, y])
    print(str(loc[0])+", " + str(loc[1]) + ", " + str(yaw*1.0))
